cpp提供的协程是无栈的：通过返回到协程调用方暂停协程，且恢复协程所需的数据和栈分离存储。

协程是特殊的函数，在函数定义中，包含以下语法的即为协程：

* `co_await expr`，暂停当前协程。
* `co_yield expr`，暂停当前协程，并返回一个值。
* `co_return`，完成当前协程，并返回一个值。

#### 相关对象

每个协程都会关联三个对象：

* _承诺对象_，协程内部访问。协程通过该对象返回结果或异常。

* _协程句柄_，协程外部访问。用于恢复协程执行或销毁协程的无所有权句柄。

* _协程状态_，动态存储分配的内部对象。

#### promise_type

编译器通过 `coroutine_traits` 从协程的返回类型确定 _promise_type_，假定 `R` 为协程的非空返回类型，其非特化的确定表达式为 `R::promise_type`。

因此，如果需要定义用于协程的返回类型 _R_，要么声明 `R::promise_type`，要么特化 `coroutine_traits<R>::promise_type`。

