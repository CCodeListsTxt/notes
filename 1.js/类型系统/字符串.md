[toc]

# 说明

字符串是不可修改的utf16字符序列，任何对字符串对象的修改都是创建新的字符串，并修改该对象的引用。

码点超出16位的字符使用两个16位表示，通过`.length`属性得到的是字符串中码元的数量，而不是字符的数量。

>   ```js
>   console.log("zh".length);      // 2
>   console.log("中文".length);     // 2
>   console.log("💙".length);      // 2
>   // 💙的utf16编码是\ud83d\udc99，占据两个码元
>   ```

# 字面量

## 普通字面量

使用`""`和`''`包裹的均为字符串字面量。

## 模板字符串

使用` `` `包裹模板字符串字面量，其允许多行字符串、`${}`嵌入表达式以及标签模板。

### 嵌入表达式

在`${}`内部可以使用嵌套的模板字符串。

> **示例**：
>
> ```js
> const val = "hello";
> const val_name = val;
> 
> console.log(`${`${val_name}`}`);    // hello
> // 第一次解析后得到     `${val}`
> // 第二次解析后得到     'hello'
> ```

### 标签模板

带标签的模板实际上是一种函数调用，其语法为`tag`` `。

>   **函数签名：**tag函数需要满足`function(strings, exprs...)`，其中：
>
>   *   strings，字符串数组，表示非嵌入表达式之外的其它字符串片段。
>   *   exprs，嵌入表达式。
>
>   函数返回值即为表达式的求值。
>
>   ---
>
>   **示例：**
>
>   ```js
>   function tag(strings, expr) {
>       console.log(typeof strings);            // object
>       console.log(strings instanceof Array);  // true
>       console.log(typeof expr);               // string
>   }
>   
>   tag`hello${"world"}`
>   ```

# String

## 实例属性

`.length`，字符串码元数量。

## 实例方法

### 访问相关

**.chatAt(idx)**

> **说明**：获取指定索引处码元对应的字符。

**.charCodeAt(idx)**

> **说明**：返回指定索引处码元的值。

### 子串相关

**.substring(start_idx, end_idx)**

> **说明**：获取索引范围的子串。
>
> **参数**：
>
> *   `end_idx`不包含在截取的字符串内，可以忽略表示字符串末尾。
> *   任何非正整数参数都被视为0。
> *   如果传入两个参数，会通过交换确保`start_idx <= end_idx`成立。
>
> **示例**：
>
> ```js
> console.log(str.substring(2, null));    // he
> // null会被转换为0，然后交换2和0，截取[0, 2)范围的子串
> ```

**.slice(start_idx, end_idx)**

> **说明**：返回索引范围的子串。与`.substring()`类似，但传入负数索引时，会解析为从后往前计算，且不会进行参数交换。
>
> **示例**：
>
> ```js
> const str = "hello";
> 
> console.log(str.slice(-2, null));   // 无输出
> // 解析为 [5-2, 0)
> 
> console.log(str.slice(null, -2));   // hel
> // 解析为[0, 3)
> ```

**.split(separator, limit)**

> **说明**：根据模式将字符串分割为子串数组。
>
> **参数**：
>
> *   `separator`，描述分割位置的模式。可以是字符串，或者具有`Symbol.split`方法的对象（如正则表达式）。
> *   `limit`，可选参数，子串数组的元素最大限制。

### 搜索相关

**.startsWith(target, pos)**

> **说明**：判断字符串是否以给定串起始。
>
> **参数**：`pos`，可选参数，在字符串中搜索的起始位置（默认为0）。

**.endsWith(target, pos)**

> **说明**：判断当字符串是否以给定串结尾。
>
> **参数**：`pos`，可选参数，在字符串中搜索的截止位置（默认为`.length`）。

**.indexOf(target, pos)**

> **说明**：搜索当前字符串中给定串第一次出现的位置（未找到返回-1）。
>
> **参数**：`pos`，可选参数，在字符串中搜索的起始位置（默认为0）。****

**.lastIndexOf(target, pos)**

> **说明**：搜索当前字符串中给定串第一次出现的位置（从后往前搜索）。
>
> **参数**：`pos`，可选参数，在字符串中搜索的起始位置，默认为`Infinity`。如果`pos > .length`，将搜索整个字符串。

**.includes(target, pos)**

> **说明**：判断当前字符串中是否存在目标字串。

### 替换相关

**.replace(pattern, target)**

> **说明**：替换首个符合模式的子串。

**.replaceAll(pattern, target)**

> **说明**：替换所有符合模式的子串。

**.toUpperCase()**

> **说明**：返回转换为大写后的字符串。

**.toLowerCase()**

> **说明**：返回转换为小写后的字符串。

### 空白相关

**.trim()**

> **说明**：删除字符串两端的空白字符。

**.trimStart()**

> **说明**：删除字符串起始的空白字符。

**.trimEnd()**

> **说明**：删除字符串末尾的空白字符。

### 其它

**.repeat(n)**

> **说明**：重复拼接字符串n次。
