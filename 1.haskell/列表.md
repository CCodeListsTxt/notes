[toc]

#### 列表

列表是同质的数据结构，使用[[]]()表示空列表。

##### 拼接列表

使用[++]()运算符拼接两个元素相同类型的列表。

##### 添加元素

使用[ele:lis]()语法，在列表前面加上单个元素，且返回新的列表。且[[1,2,3]]()只是[1:2:3:[]]()的语法糖。

##### 访问元素

使用[lis!!idx]()访问列表中的元素，索引从0开始计数。

##### 子列表元素

列表中的元素可以是其他列表，子列表的长度可以不相等，但必须具有相同的类型。

##### 列表比较

如果列表的元素可比较，那么该列表可比较。

##### 列表操作函数

###### head

获取列表首元素。

```haskell
main = print $ head [1, 2, 3] -- 1
```

###### tail

切掉列表首元素。

```haskell
main = print $ tail [1, 2, 3] -- [2,3]
```

###### init

切掉列表尾元素。

```haskell
main = print $ init [1, 2, 3] -- [1,2]
```

###### length

获取列表长度。

###### null

判断列表是否为空。

###### reverse

反转列表。

###### take

获取列表中前n个元素。

```haskell
main = do
  print $ take 1 [1, 2] -- [1]
  print $ take 3 [1, 2] -- [1,2]
  print $ take 0 [1, 2] -- []
```

###### drop

删除列表中前n个元素。

###### maxinum

获取列表中的最大元素，列表必须可比较。

```haskell
main = print $ maximum ['a', 'b', 'c'] -- 'c'
```

###### minimun

获取列表中的最小元素。

###### sum

对数值列表求和。

###### elem

判断某个元素是否是列表的成员，常作为中缀函数使用。

```haskell
main = do
  print $ 1 `elem` [1, 2, 3] -- True
  print $ [1, 2] `elem` [[1, 2], [2, 3]] -- True
```

#### 范围

使用[[begin..end]]()，创建包含从_begin_到_end_的所有自然数列表。

使用[[begin,next..end]]()，指定首元素、次元素和上界，编译器自动推断步长。

```haskell
main = do
  print [5, 4 .. 1] -- [5,4,3,2,1]
  print [5, 3 .. 1] -- [5,3,1]
```

也可以生成浮点数范围，但通常结果并不准确。

```haskell
main = print [0.1, 0.6 .. 1] -- [0.1,0.6,1.1]
```

##### 无限列表

除了通过忽略上界创建无限列表，还可以使用生成无限列表的函数。

###### cycle

循环给定列表。

```haskell
main = print $ take 5 $ cycle [1, 2, 3] -- [1,2,3,1,2]
```

###### repeat

重复给定元素。

#### 列表推导

列表推导（list comprehension），将某个表达式依次作用在某个列表的元素中，并生成新的列表。其结构为[[exp | e <- lis]]()。

```haskell
main = print [x * 2 | x <- [1 .. 3]] -- [2,4,6]
```

可以提供多个列表，此时会得到元素的笛卡尔积。其结构为[[exp | e1 <- lis1, e2 <- lis2]]()。

```haskell
main = print [[x1, x2] | x1 <- [1, 2], x2 <- [3, 4]] -- [[1,3],[1,4],[2,3],[2,4]]
```

此外，还可在最后加上谓词，只有当满足谓词时，才会将表达式作用在元素上。其结构为[[exp | e <- lis, perd]]()。

```haskell
main = print [x | x <- [1 .. 4], odd x] -- [1,3]
```

















